CREATE TABLE [dbo].[Locations] (
    [Id] [uniqueidentifier] NOT NULL,
    [Name] [nvarchar](max),
    CONSTRAINT [PK_dbo.Locations] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[Reports] (
    [Id] [uniqueidentifier] NOT NULL,
    [Title] [nvarchar](max),
    [Description] [nvarchar](max),
    [Creation] [datetime] NOT NULL,
    [Location_Id] [uniqueidentifier] NOT NULL,
    [Reporter_Id] [uniqueidentifier] NOT NULL,
    CONSTRAINT [PK_dbo.Reports] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_Location_Id] ON [dbo].[Reports]([Location_Id])
CREATE INDEX [IX_Reporter_Id] ON [dbo].[Reports]([Reporter_Id])
CREATE TABLE [dbo].[Users] (
    [Id] [uniqueidentifier] NOT NULL,
    [Username] [nvarchar](max),
    [Firstname] [nvarchar](max),
    [Lastname] [nvarchar](max),
    CONSTRAINT [PK_dbo.Users] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[Votes] (
    [id] [uniqueidentifier] NOT NULL,
    [Statement] [nvarchar](max),
    [NumericVote] [int] NOT NULL,
    [Creation] [datetime] NOT NULL,
    [Voter_Id] [uniqueidentifier],
    [Report_Id] [uniqueidentifier],
    CONSTRAINT [PK_dbo.Votes] PRIMARY KEY ([id])
)
CREATE INDEX [IX_Voter_Id] ON [dbo].[Votes]([Voter_Id])
CREATE INDEX [IX_Report_Id] ON [dbo].[Votes]([Report_Id])
ALTER TABLE [dbo].[Reports] ADD CONSTRAINT [FK_dbo.Reports_dbo.Locations_Location_Id] FOREIGN KEY ([Location_Id]) REFERENCES [dbo].[Locations] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[Reports] ADD CONSTRAINT [FK_dbo.Reports_dbo.Users_Reporter_Id] FOREIGN KEY ([Reporter_Id]) REFERENCES [dbo].[Users] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[Votes] ADD CONSTRAINT [FK_dbo.Votes_dbo.Users_Voter_Id] FOREIGN KEY ([Voter_Id]) REFERENCES [dbo].[Users] ([Id])
ALTER TABLE [dbo].[Votes] ADD CONSTRAINT [FK_dbo.Votes_dbo.Reports_Report_Id] FOREIGN KEY ([Report_Id]) REFERENCES [dbo].[Reports] ([Id])
CREATE TABLE [dbo].[__MigrationHistory] (
    [MigrationId] [nvarchar](150) NOT NULL,
    [ContextKey] [nvarchar](300) NOT NULL,
    [Model] [varbinary](max) NOT NULL,
    [ProductVersion] [nvarchar](32) NOT NULL,
    CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
)
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201611201420040_InitialMigration_ReportContext', N'Civitas.DataModel.Migrations.Configuration',  0x1F8B0800000000000400E55BDD6EDB3614BE1FB0771074B50DAD95A4375B60B7C89C6608969F224E8BDD058C443BC4244A95A8C0C6B027DBC51E69AFB043FD5224655196ED38280A1409C9F3F1FCF11CF2E8E4BF7FFE1D7F5806BEF58CE3848474621F8F8E6C0B5337F4085D4CEC94CDDFFE6C7F78FFFD77E38F5EB0B4BE94EBDEF17540499389FDC45874EA3889FB8403948C02E2C66112CED9C80D030779A1737274F48B737CEC6080B001CBB2C677296524C0D92FF0EB34A42E8E588AFCEBD0C37E528CC3CC2C43B56E50809308B978624FC93361B0CF3962285B6D5B673E41C0C80CFB73DB4294860C3160F3F47382672C0EE96216C100F2EF5711867573E427B860FFB45E6E2AC9D10997C4A9094B28374D5818F4043C7E57A8C691C93752B05DA90E94F71194CC565CEA4C8113FB2A740B6879B3D3A91FF385B57E336282935149F4C6CAA74699D6DF54CE003EC3FFC174EAB334C6138A53162358F1297DF489FB3B5EDD877F623AA1A9EF8BFC018730D71880A14F7118E198ADEEF0BCE0FAD2B32DA749E7C88415994093CBF35B4AE0E71BD81B3DFAB8B2BEB3969CFF5F02800BC161B0AD6BB4BCC274C19E2636FC685B176489BD72A440FD4C099C1D2062712A6D32766A73AC35D21D8EC298F532514EF22D19E89E307FDB16527739C7891B93283F323BDE6B1A63246E04F10DDF13EE865DAAB941CF6491D14A90F571BFC37EF653F244A23C50163EF350AFB988C3E02EF42B0FACA61E66611ABB5CDBA17EFE1EC50BCCCCF9CAE971BC8EAF7A8DC25739D5C65735DF97AF591AE547AF9DAD6A89C25531D3C65439ADE3C9383440428B7B05064EF02D85052E2FDD7EEC5637BA2071C2F6B2D315DAC946C63EF72564B897CF718217F339B281CF91613E37038DE00053B67357B849031C1337B748BED72565EF4E7AB3BC835CC399D207743EF3504CD751B31E5522A630D5275A9E2549E8926CF7469EA9535C53948FD4B33AF25D6ECE3AFC834DC16F49049E0A0C4CEC9F14FDB48396A208A075EE6DC21EDBB2A3DFD273EC6386AD33377F594C51E2224FB50FE8C66BE84AD08A91B2AABCDB21979A84B7A02C25730BA079EE3B004509FEDC268ECEB96B49F2F36BAE1CCD79E8D0CBD168742C1F9ABE8E50DE743A4CA65C7BBADC40E56D1DAC466003F5B54A9B478E6948192214C70D89F9285EEA1E5EA0E222DD2545A096B9E7A833CCA47B77625B75A852CEBCA2822648CE940EA2D46B0700770C1D79EE301DC45CC93AE25CF912B1A06C997FE17D21AC6A7982C887B93B42576C0BFA72CC614AEF126004DBC911A329A6B90AEAA74CAB0AF451D728EE6EA60225D20A3085E30C165F4CFCAAE46D61B42B900A8C164EBA465A4DE8DC81A0F2DBB0D5CCDA986A12553733B21C44BB54B746F4F2D25585CEBA44EBE435DAB296EBB41473C7D7288AE05E2C14778B116B565476DFCEFAD73C831CC371134DE9B3E2B6DA8985315A606916B6064EB3271DAF2A3F227EF19D7A81B2AC99285A2268B9979C0B547395B1B5A4E03F171774B9C83D6A0B92B51A2F4032FE0CC984C49A90A692660576E4A358F30A9F867E1AD0B697FC3AEABC782AD2E7232AC2D891789775E4284A526E714DAD1BD9A43C42C32C52A4E1FEF66823DC8D358A4AA908500C996334EAA0225263C21CAF7E7F8A60F5E8C1784A9E2186F94976DFEAEF257AB2DDF8485D361331EA517324A12E264209C3E65875E54B84AA470FC64BF2643ACC4BB28B757F2FD193B56994485EA256CBD6510B852E114418EE9123C4525623558813AF39A234AF52BA0424BC8DBAF38CB0D82C9FF0EBA0F6BB8BF2FC51556314622A185DACC9EA2B25407FCE8A7BEF869CF56348BEF56E6ACDFA996760CD7AF1506BCA2FB90D7556C16CCF9AF253F57558537CB57605EC729D4954D6E8497D9D6EA8A21C630B9653DFDB861C996496B5BCC0A3CA235915F232E11F21AA0F1026726EEB08572F7883135CADDDD0F8FA97FEA0D3BBC5B32B950E0ECA0B5A85ED7603A58C212FA96E055539432A5B8C8B128241A39A5C53C897D81608FF4C3C5E4F98AD12B83A65BE359A7DF5A73EC9AE51E5826B44C91C272CFF246A9F1C1D9F48CD6E87D378E62489E76B4A30BAEEB3A6D1F6D04B9052F235C5A05260694E78C41ED00F469F51EC3EA1F887002D7F149186F77CBD3EC534FAB07A684645D2F45A0DC293BF717BF04A6146DFB85BBAA81ED6A94DF96674493DBC9CD87F6520A7D6E51F0F02CE1BEB3686F37D6A1D597FF7E6A771531BC08F80D3839F7EBD4AAFCFA1E50EA2413EA874090D42933B81761188D4CBCB3EFA6E065B4DE9C119A4684D9F0DE1D003BB6C368E40F5B577C0712F41DACEBA8962849BD7E0C0D38B95EDF7FC346B2F7B6BC8D17CA6DBA875064E1E8EB9D6910F77D984C5709B552A589F62425D12215F9659BDCE9BC4612E4D0529CF9CE30853EE074DD94C76EA282455C89262BB54B083DEA7BC75626F4D492FEA2C2D9F2D5ED2513A6A547B701483DE2F231FE9688212334F8F96B183B673CB070E759F75C5ACFDC502B3F6B7E1FD6EFB34758FA3B62F63AF2D5C6DDDDAFAF63FB5F9433696BEBD6F6D775F5EEC814BDF6308E6CDEF35EDBD65FAE6BF35BD7F3AF896CE206D63606B5FA00E58DF27A56B196CED18D4C1EA7B9076DF4C28DBAFD924D3DD57A569C73AB46641D1C47537C14B89B68546C0FE0289EE58D7E50FB0D9CF40E75B15AC472B9F5AEB86E02BFCE936C4FD842C6A085EBFA7D86D84DD6ACD259D87650290382A9748CFCD6BCC103C9AD1590CAF4BE43298767192647F5CF305F9292CF9183C62EF92DEA62C4A19888C83477F252A83679175FB67FD8A4D9EC7B7591532D98608C026E1EFFE5BFA6B4A7CAFE2FB4253596B81E0E9E9370CE3B92D21DB31BC585548372135042AD45765D57B1C443E8025B774869EF126BCC129BCC20BE4AECA4F16ED20DD8668AA7D7C4ED02246415260D4F4F02BF8B0172CDFFF0FD06B2D17C1400000 , N'6.1.3-40302')

